## YAML Template.
##---
$schema: http://json-schema.org/draft-04/schema#
id: "/request/ioAnimation/init"

type: object
required : [animation]
properties:
    animation :
        type: object
        required : [name, status, states]
        additionalProperties: false
        properties:
            name :
                type: string
                minLength: 1
                maxLength: 254

            status :
                type: string
                default : loop
                enum :
                   - loop

            states:
                type: array
                default : []
                items:
                    type : object
                    required : [duration, state]
                    additionalProperties: false
                    properties :
                        duration :
                            type: integer
                            minimum : 0
                            maximum : 60000
                            multipleOf: 0.001
                        state :
                            type: object
                            filter : pass_all
#                       エラーがわかりにくくなるのでソースコードで実施
#                            additionalProperties: false
#                            patternProperties :
#                                "^io[0-9]$" : {$ref : "/request/io" }
#                                "^io1[0-1]$" : {$ref : "/request/io" }
#                                "^pwm[0-5]$" : {$ref : "/request/pwm" }



