<!doctype>
<html>
  <head>
    <title>Test</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/projects/obnizjs//node_modules/mocha/mocha.css" />
    <script src="/projects/obnizjs//node_modules/mocha/mocha.js"></script> 
    <script src="/projects/obnizjs//node_modules/chai/chai.js"></script> 
    <script src="/projects/obnizjs//node_modules/sinon/pkg/sinon.js"></script> 
    <script src="/projects/obnizjs//index.js"></script> 
    <script src="/projects/obnizjs//test/testUtil-browser.ejs"></script> 
  </head>
  <body>
    <script>
      expect = chai.expect;
      assert = chai.assert;
      mocha.setup('bdd');
      
      chai.use(testUtil.obnizAssert);
    </script>
    <div id="mocha"></div>
    <script>
        
      describe("obniz.libs.display", function () {
  beforeEach(function (done) {
    return testUtil.setupObnizPromise(this,done);   
  });
 
  afterEach(function (done) {
    return testUtil.releaseObnizePromise(this,done);
  });
  
  
  it("clear",  function () {
    this.obniz.display.clear();
    expect(this.obniz).to.be.obniz;
    expect(this.obniz).send({display:{clear:true}});
    expect(this.obniz).to.be.finished;
  });
  it("print",  function () {
    this.obniz.display.print("Hello!");
    expect(this.obniz).to.be.obniz;
    expect(this.obniz).send({display:{text:"Hello!"}});
    expect(this.obniz).to.be.finished;
  });
  it("print_bool",  function () {
    this.obniz.display.print(true);
    expect(this.obniz).to.be.obniz;
    expect(this.obniz).send({display:{text:"true"}});
    expect(this.obniz).to.be.finished;
  });
  it("qr",  function () {
    this.obniz.display.qr("https://obniz.io");
    expect(this.obniz).to.be.obniz;
    expect(this.obniz).send({
      "display": {
        "qr": {
          "data": "https://obniz.io"
        }
      }
    });
    expect(this.obniz).to.be.finished;
  });
  it("qr-low",  function () {
    this.obniz.display.qr("HELLO!", "L");
    expect(this.obniz).to.be.obniz;
    expect(this.obniz).send({
      "display": {
        "qr": {
          "correction": "L",
          "data": "HELLO!"
        }
      }
    });
    expect(this.obniz).to.be.finished;
  });
  it("qr-high",  function () {
    this.obniz.display.qr("p8baerv9uber:q", "H");
    expect(this.obniz).to.be.obniz;
    expect(this.obniz).send({
      "display": {
        "qr": {
          "correction": "H",
          "data": "p8baerv9uber:q"
        }
      }
    });
    expect(this.obniz).to.be.finished;
  });
});

      mocha.run();
    </script> 
  </body>
</html>