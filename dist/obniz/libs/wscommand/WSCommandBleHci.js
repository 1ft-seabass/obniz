"use strict";
class WSCommandBleHci {
    constructor(delegate) {
        this._delegate = delegate;
        this._CommandHCIInit = 41;
        this._CommandHCIDeinit = 42;
        this._CommandHCISend = 43;
        this._CommandHCIRecv = 44;
    }
    schemaData() {
        return [{ uri: '/request/ble/hci/write', onValid: this.send.bind(this) }];
    }
    notifyFunctionList() {
        let funcList = {};
        funcList[this._CommandHCIRecv] = this.recv.bind(this);
        return funcList;
    }
    send(params, module) {
        let buf = new Uint8Array(params.hci.write.length);
        buf.set(params.hci.write);
        this._delegate.sendCommand(this._CommandHCISend, buf);
    }
    recv(objToSend, payload) {
        let arr = new Array(payload.byteLength);
        for (let i = 0; i < arr.length; i++) {
            arr[i] = payload[i];
        }
        objToSend.ble = objToSend.ble || {};
        objToSend.ble.hci = objToSend.ble.hci || {};
        objToSend.ble.hci.read = { data: arr };
    }
}
module.exports = WSCommandBleHci;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9vYm5pei9saWJzL3dzY29tbWFuZC9XU0NvbW1hbmRCbGVIY2kuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0sZUFBZTtJQUNuQixZQUFZLFFBQVE7UUFDbEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFDMUIsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQsVUFBVTtRQUNSLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSx3QkFBd0IsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLFFBQVEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEQsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztJQUVELElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTTtRQUNqQixJQUFJLEdBQUcsR0FBRyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsRCxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPO1FBQ3JCLElBQUksR0FBRyxHQUFHLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN4QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3JCO1FBRUQsU0FBUyxDQUFDLEdBQUcsR0FBRyxTQUFTLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUNwQyxTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUM7UUFDNUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ3pDLENBQUM7Q0FDRjtBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDIiwiZmlsZSI6Im9ibml6L2xpYnMvd3Njb21tYW5kL1dTQ29tbWFuZEJsZUhjaS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFdTQ29tbWFuZEJsZUhjaSB7XG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlKSB7XG4gICAgdGhpcy5fZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLl9Db21tYW5kSENJSW5pdCA9IDQxO1xuICAgIHRoaXMuX0NvbW1hbmRIQ0lEZWluaXQgPSA0MjtcbiAgICB0aGlzLl9Db21tYW5kSENJU2VuZCA9IDQzO1xuICAgIHRoaXMuX0NvbW1hbmRIQ0lSZWN2ID0gNDQ7XG4gIH1cblxuICBzY2hlbWFEYXRhKCkge1xuICAgIHJldHVybiBbeyB1cmk6ICcvcmVxdWVzdC9ibGUvaGNpL3dyaXRlJywgb25WYWxpZDogdGhpcy5zZW5kLmJpbmQodGhpcykgfV07XG4gIH1cblxuICBub3RpZnlGdW5jdGlvbkxpc3QoKSB7XG4gICAgbGV0IGZ1bmNMaXN0ID0ge307XG4gICAgZnVuY0xpc3RbdGhpcy5fQ29tbWFuZEhDSVJlY3ZdID0gdGhpcy5yZWN2LmJpbmQodGhpcyk7XG4gICAgcmV0dXJuIGZ1bmNMaXN0O1xuICB9XG5cbiAgc2VuZChwYXJhbXMsIG1vZHVsZSkge1xuICAgIGxldCBidWYgPSBuZXcgVWludDhBcnJheShwYXJhbXMuaGNpLndyaXRlLmxlbmd0aCk7XG4gICAgYnVmLnNldChwYXJhbXMuaGNpLndyaXRlKTtcbiAgICB0aGlzLl9kZWxlZ2F0ZS5zZW5kQ29tbWFuZCh0aGlzLl9Db21tYW5kSENJU2VuZCwgYnVmKTtcbiAgfVxuXG4gIHJlY3Yob2JqVG9TZW5kLCBwYXlsb2FkKSB7XG4gICAgbGV0IGFyciA9IG5ldyBBcnJheShwYXlsb2FkLmJ5dGVMZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnJbaV0gPSBwYXlsb2FkW2ldO1xuICAgIH1cblxuICAgIG9ialRvU2VuZC5ibGUgPSBvYmpUb1NlbmQuYmxlIHx8IHt9O1xuICAgIG9ialRvU2VuZC5ibGUuaGNpID0gb2JqVG9TZW5kLmJsZS5oY2kgfHwge307XG4gICAgb2JqVG9TZW5kLmJsZS5oY2kucmVhZCA9IHsgZGF0YTogYXJyIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBXU0NvbW1hbmRCbGVIY2k7XG4iXX0=
