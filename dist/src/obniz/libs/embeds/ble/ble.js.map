{"version":3,"file":"ble.js","sourceRoot":"","sources":["../../../../../../src/obniz/libs/embeds/ble/ble.ts"],"names":[],"mappings":"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"}