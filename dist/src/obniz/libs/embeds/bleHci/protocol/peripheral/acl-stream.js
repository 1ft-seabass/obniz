"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const events = require("events");
const Smp = require("./smp");
class AclStream extends events.EventEmitter {
    constructor(hci, handle, localAddressType, localAddress, remoteAddressType, remoteAddress) {
        super();
        this._hci = hci;
        this._handle = handle;
        this.encypted = false;
        this._smp = new Smp(this, localAddressType, localAddress, remoteAddressType, remoteAddress, this._hci);
    }
    rite(cid, data) {
        this._hci.queueAclDataPkt(this._handle, cid, data);
    }
    ush(cid, data) {
        if (data) {
            this.emit("data", cid, data);
        }
        else {
            this.emit("end");
        }
    }
    ushEncrypt(encrypt) {
        this.encrypted = encrypt ? true : false;
        this.emit("encryptChange", this.encrypted);
    }
    ushLtkNegReply() {
        this.emit("ltkNegReply");
    }
}
exports.default = AclStream;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9vYm5pei9saWJzL2VtYmVkcy9ibGVIY2kvcHJvdG9jb2wvcGVyaXBoZXJhbC9hY2wtc3RyZWFtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxNQUFNLEdBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRXRDLE1BQU0sR0FBRyxHQUFRLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUVsQyxNQUFNLFNBQVUsU0FBUSxNQUFNLENBQUMsWUFBWTtJQVF6QyxZQUNFLEdBQVEsRUFDUixNQUFXLEVBQ1gsZ0JBQXFCLEVBQ3JCLFlBQWlCLEVBQ2pCLGlCQUFzQixFQUN0QixhQUFrQjtRQUVsQixLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBRXRCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQ2pCLElBQUksRUFDSixnQkFBZ0IsRUFDaEIsWUFBWSxFQUNaLGlCQUFpQixFQUNqQixhQUFhLEVBQ2IsSUFBSSxDQUFDLElBQUksQ0FDVixDQUFDO0lBQ0osQ0FBQztJQUVNLElBQUksQ0FBQyxHQUFRLEVBQUUsSUFBUztRQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRU0sR0FBRyxDQUFDLEdBQVEsRUFBRSxJQUFTO1FBQzVCLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzlCO2FBQU07WUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2xCO0lBQ0gsQ0FBQztJQUVNLFVBQVUsQ0FBQyxPQUFZO1FBQzVCLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUV4QyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVNLGNBQWM7UUFDbkIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUFFRCxrQkFBZSxTQUFTLENBQUMiLCJmaWxlIjoic3JjL29ibml6L2xpYnMvZW1iZWRzL2JsZUhjaS9wcm90b2NvbC9wZXJpcGhlcmFsL2FjbC1zdHJlYW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBldmVudHM6IGFueSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5cbmNvbnN0IFNtcDogYW55ID0gcmVxdWlyZShcIi4vc21wXCIpO1xuXG5jbGFzcyBBY2xTdHJlYW0gZXh0ZW5kcyBldmVudHMuRXZlbnRFbWl0dGVyIHtcbiAgcHVibGljIF9oY2k6IGFueTtcbiAgcHVibGljIF9oYW5kbGU6IGFueTtcbiAgcHVibGljIGVuY3lwdGVkOiBhbnk7XG4gIHB1YmxpYyBfc21wOiBhbnk7XG4gIHB1YmxpYyBlbWl0OiBhbnk7XG4gIHB1YmxpYyBlbmNyeXB0ZWQ6IGFueTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBoY2k6IGFueSxcbiAgICBoYW5kbGU6IGFueSxcbiAgICBsb2NhbEFkZHJlc3NUeXBlOiBhbnksXG4gICAgbG9jYWxBZGRyZXNzOiBhbnksXG4gICAgcmVtb3RlQWRkcmVzc1R5cGU6IGFueSxcbiAgICByZW1vdGVBZGRyZXNzOiBhbnksXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5faGNpID0gaGNpO1xuICAgIHRoaXMuX2hhbmRsZSA9IGhhbmRsZTtcbiAgICB0aGlzLmVuY3lwdGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9zbXAgPSBuZXcgU21wKFxuICAgICAgdGhpcyxcbiAgICAgIGxvY2FsQWRkcmVzc1R5cGUsXG4gICAgICBsb2NhbEFkZHJlc3MsXG4gICAgICByZW1vdGVBZGRyZXNzVHlwZSxcbiAgICAgIHJlbW90ZUFkZHJlc3MsXG4gICAgICB0aGlzLl9oY2ksXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyByaXRlKGNpZDogYW55LCBkYXRhOiBhbnkpIHtcbiAgICB0aGlzLl9oY2kucXVldWVBY2xEYXRhUGt0KHRoaXMuX2hhbmRsZSwgY2lkLCBkYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyB1c2goY2lkOiBhbnksIGRhdGE6IGFueSkge1xuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLmVtaXQoXCJkYXRhXCIsIGNpZCwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW1pdChcImVuZFwiKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgdXNoRW5jcnlwdChlbmNyeXB0OiBhbnkpIHtcbiAgICB0aGlzLmVuY3J5cHRlZCA9IGVuY3J5cHQgPyB0cnVlIDogZmFsc2U7XG5cbiAgICB0aGlzLmVtaXQoXCJlbmNyeXB0Q2hhbmdlXCIsIHRoaXMuZW5jcnlwdGVkKTtcbiAgfVxuXG4gIHB1YmxpYyB1c2hMdGtOZWdSZXBseSgpIHtcbiAgICB0aGlzLmVtaXQoXCJsdGtOZWdSZXBseVwiKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBY2xTdHJlYW07XG4iXX0=
