{"version":3,"sources":["../src/parts/ColorSensor/S11059/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["class S11059 {\n\n  public static info() {\n    return {\n      name: \"S11059\",\n    };\n  }\n\n  public keys: any;\n  public requiredKeys: any;\n  public address: any;\n  public regAdrs: any;\n  public obniz: any;\n  public params: any;\n  public i2c: any;\n\n  constructor() {\n    this.keys = [\"vcc\", \"sda\", \"scl\", \"i2c\", \"gnd\"];\n    this.requiredKeys = [];\n\n    this.address = 0x2a;\n    this.regAdrs = {};\n    this.regAdrs.ctrl = 0x00;\n    this.regAdrs.manualTiming = 0x01;\n    this.regAdrs.sensorRed = 0x03;\n  }\n\n  public wired(obniz: any) {\n    this.obniz = obniz;\n    obniz.setVccGnd(this.params.vcc, this.params.gnd, \"3v\");\n    this.obniz.wait(100);\n\n    this.params.clock = 100000;\n    this.params.pull = \"3v\";\n    this.params.mode = \"master\";\n    this.i2c = obniz.getI2CWithConfig(this.params);\n    this.obniz.wait(100);\n  }\n\n  public init(gain: any, intTime: any) {\n    this.i2c.write(this.address, [this.regAdrs.ctrl, 0x80]); // Reset\n    const val: any = (gain << 3) | intTime;\n    this.i2c.write(this.address, [this.regAdrs.ctrl, val]); // Set gain,interger time\n  }\n\n  public async getVal() {\n    this.i2c.write(this.address, [this.regAdrs.sensorRed]);\n    const ret: any = await this.i2c.readWait(this.address, 8);\n    const level: any = [0, 0, 0, 0];\n    level[0] = (ret[0] << 8) | ret[1];\n    level[1] = (ret[2] << 8) | ret[3];\n    level[2] = (ret[4] << 8) | ret[5];\n    level[3] = (ret[6] << 8) | ret[7];\n    return level;\n  }\n}\n\nexport default S11059;\n"]}