"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class _7SegmentLED {
    constructor() {
        this.keys = [
            "a",
            "b",
            "c",
            "d",
            "e",
            "f",
            "g",
            "dp",
            "common",
            "commonType",
        ];
        this.requiredKeys = ["a", "b", "c", "d", "e", "f", "g"];
        this.digits = [
            0x3f,
            0x06,
            0x5b,
            0x4f,
            0x66,
            0x6d,
            0x7d,
            0x07,
            0x7f,
            0x6f,
            0x6f,
        ];
        this.displayIoNames = {
            a: "a",
            b: "b",
            c: "c",
            d: "d",
            e: "e",
            f: "f",
            g: "g",
            dp: "dp",
            common: "com",
        };
    }
    static info() {
        return {
            name: "7SegmentLED",
        };
    }
    wired(obniz) {
        function getIO(io) {
            if (io && typeof io === "object") {
                if (typeof io.output === "function") {
                    return io;
                }
            }
            return obniz.getIO(io);
        }
        function isValidIO(io) {
            if (io && typeof io === "object") {
                if (typeof io.output === "function") {
                    return true;
                }
            }
            return obniz.isValidIO(io);
        }
        this.obniz = obniz;
        this.ios = [];
        this.ios.push(getIO(this.params.a));
        this.ios.push(getIO(this.params.b));
        this.ios.push(getIO(this.params.c));
        this.ios.push(getIO(this.params.d));
        this.ios.push(getIO(this.params.e));
        this.ios.push(getIO(this.params.f));
        this.ios.push(getIO(this.params.g));
        this.isCathodeCommon = this.params.commonType === "anode" ? false : true;
        for (let i = 0; i < this.ios.length; i++) {
            this.ios[i].output(this.isCathodeCommon ? false : true);
        }
        if (isValidIO(this.params.dp)) {
            this.dp = getIO(this.params.dp);
            this.dp.output(false);
        }
        if (isValidIO(this.params.common)) {
            this.common = getIO(this.params.common);
            this.on();
        }
    }
    print(data) {
        if (typeof data === "number") {
            data = Math.floor(data);
            data = data % 10;
            for (let i = 0; i < 7; i++) {
                if (this.ios[i]) {
                    let val = this.digits[data] & (1 << i) ? true : false;
                    if (!this.isCathodeCommon) {
                        val = !val;
                    }
                    this.ios[i].output(val);
                }
            }
            this.on();
        }
    }
    printRaw(data) {
        if (typeof data === "number") {
            for (let i = 0; i < 7; i++) {
                if (this.ios[i]) {
                    let val = data & (1 << i) ? true : false;
                    if (!this.isCathodeCommon) {
                        val = !val;
                    }
                    this.ios[i].output(val);
                }
            }
            this.on();
        }
    }
    dpState(show) {
        if (this.dp) {
            this.dp.output(this.isCathodeCommon ? show : !show);
        }
    }
    on() {
        this.common.output(this.isCathodeCommon ? false : true);
    }
    off() {
        this.common.output(this.isCathodeCommon ? true : false);
    }
}
exports.default = _7SegmentLED;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wYXJ0cy9EaXNwbGF5LzdTZWdtZW50TEVEL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxZQUFZO0lBbUJoQjtRQUNFLElBQUksQ0FBQyxJQUFJLEdBQUc7WUFDVixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsSUFBSTtZQUNKLFFBQVE7WUFDUixZQUFZO1NBQ2IsQ0FBQztRQUNGLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUV4RCxJQUFJLENBQUMsTUFBTSxHQUFHO1lBQ1osSUFBSTtZQUNKLElBQUk7WUFDSixJQUFJO1lBQ0osSUFBSTtZQUNKLElBQUk7WUFDSixJQUFJO1lBQ0osSUFBSTtZQUNKLElBQUk7WUFDSixJQUFJO1lBQ0osSUFBSTtZQUNKLElBQUk7U0FDTCxDQUFDO1FBRUYsSUFBSSxDQUFDLGNBQWMsR0FBRztZQUNwQixDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsR0FBRztZQUNOLEVBQUUsRUFBRSxJQUFJO1lBQ1IsTUFBTSxFQUFFLEtBQUs7U0FDZCxDQUFDO0lBQ0osQ0FBQztJQXpETSxNQUFNLENBQUMsSUFBSTtRQUNoQixPQUFPO1lBQ0wsSUFBSSxFQUFFLGFBQWE7U0FDcEIsQ0FBQztJQUNKLENBQUM7SUF1RE0sS0FBSyxDQUFDLEtBQVU7UUFDckIsU0FBUyxLQUFLLENBQUMsRUFBTztZQUNwQixJQUFJLEVBQUUsSUFBSSxPQUFPLEVBQUUsS0FBSyxRQUFRLEVBQUU7Z0JBQ2hD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LElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztTQUNYO0lBQ0gsQ0FBQztJQUVNLE9BQU8sQ0FBQyxJQUFTO1FBQ3RCLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNYLElBQUksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNyRDtJQUNILENBQUM7SUFFTSxFQUFFO1FBQ1AsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRU0sR0FBRztRQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUQsQ0FBQztDQUNGO0FBRUQsa0JBQWUsWUFBWSxDQUFDIiwiZmlsZSI6InNyYy9wYXJ0cy9EaXNwbGF5LzdTZWdtZW50TEVEL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgXzdTZWdtZW50TEVEIHtcblxuICBwdWJsaWMgc3RhdGljIGluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwiN1NlZ21lbnRMRURcIixcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGtleXM6IGFueTtcbiAgcHVibGljIHJlcXVpcmVkS2V5czogYW55O1xuICBwdWJsaWMgZGlnaXRzOiBhbnk7XG4gIHB1YmxpYyBkaXNwbGF5SW9OYW1lczogYW55O1xuICBwdWJsaWMgb2JuaXo6IGFueTtcbiAgcHVibGljIGlvczogYW55O1xuICBwdWJsaWMgcGFyYW1zOiBhbnk7XG4gIHB1YmxpYyBpc0NhdGhvZGVDb21tb246IGFueTtcbiAgcHVibGljIGRwOiBhbnk7XG4gIHB1YmxpYyBjb21tb246IGFueTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmtleXMgPSBbXG4gICAgICBcImFcIixcbiAgICAgIFwiYlwiLFxuICAgICAgXCJjXCIsXG4gICAgICBcImRcIixcbiAgICAgIFwiZVwiLFxuICAgICAgXCJmXCIsXG4gICAgICBcImdcIixcbiAgICAgIFwiZHBcIixcbiAgICAgIFwiY29tbW9uXCIsXG4gICAgICBcImNvbW1vblR5cGVcIixcbiAgICBdO1xuICAgIHRoaXMucmVxdWlyZWRLZXlzID0gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCIsIFwiZ1wiXTtcblxuICAgIHRoaXMuZGlnaXRzID0gW1xuICAgICAgMHgzZixcbiAgICAgIDB4MDYsXG4gICAgICAweDViLFxuICAgICAgMHg0ZixcbiAgICAgIDB4NjYsXG4gICAgICAweDZkLFxuICAgICAgMHg3ZCxcbiAgICAgIDB4MDcsXG4gICAgICAweDdmLFxuICAgICAgMHg2ZixcbiAgICAgIDB4NmYsXG4gICAgXTtcblxuICAgIHRoaXMuZGlzcGxheUlvTmFtZXMgPSB7XG4gICAgICBhOiBcImFcIixcbiAgICAgIGI6IFwiYlwiLFxuICAgICAgYzogXCJjXCIsXG4gICAgICBkOiBcImRcIixcbiAgICAgIGU6IFwiZVwiLFxuICAgICAgZjogXCJmXCIsXG4gICAgICBnOiBcImdcIixcbiAgICAgIGRwOiBcImRwXCIsXG4gICAgICBjb21tb246IFwiY29tXCIsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXJlZChvYm5pejogYW55KSB7XG4gICAgZnVuY3Rpb24gZ2V0SU8oaW86IGFueSkge1xuICAgICAgaWYgKGlvICYmIHR5cGVvZiBpbyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBpZiAodHlwZW9mIGlvLm91dHB1dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGlvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JuaXouZ2V0SU8oaW8pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWRJTyhpbzogYW55KSB7XG4gICAgICBpZiAoaW8gJiYgdHlwZW9mIGlvID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW8ub3V0cHV0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9ibml6LmlzVmFsaWRJTyhpbyk7XG4gICAgfVxuXG4gICAgdGhpcy5vYm5peiA9IG9ibml6O1xuICAgIHRoaXMuaW9zID0gW107XG4gICAgdGhpcy5pb3MucHVzaChnZXRJTyh0aGlzLnBhcmFtcy5hKSk7XG4gICAgdGhpcy5pb3MucHVzaChnZXRJTyh0aGlzLnBhcmFtcy5iKSk7XG4gICAgdGhpcy5pb3MucHVzaChnZXRJTyh0aGlzLnBhcmFtcy5jKSk7XG4gICAgdGhpcy5pb3MucHVzaChnZXRJTyh0aGlzLnBhcmFtcy5kKSk7XG4gICAgdGhpcy5pb3MucHVzaChnZXRJTyh0aGlzLnBhcmFtcy5lKSk7XG4gICAgdGhpcy5pb3MucHVzaChnZXRJTyh0aGlzLnBhcmFtcy5mKSk7XG4gICAgdGhpcy5pb3MucHVzaChnZXRJTyh0aGlzLnBhcmFtcy5nKSk7XG5cbiAgICB0aGlzLmlzQ2F0aG9kZUNvbW1vbiA9IHRoaXMucGFyYW1zLmNvbW1vblR5cGUgPT09IFwiYW5vZGVcIiA/IGZhbHNlIDogdHJ1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaW9zW2ldLm91dHB1dCh0aGlzLmlzQ2F0aG9kZUNvbW1vbiA/IGZhbHNlIDogdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzVmFsaWRJTyh0aGlzLnBhcmFtcy5kcCkpIHtcbiAgICAgIHRoaXMuZHAgPSBnZXRJTyh0aGlzLnBhcmFtcy5kcCk7XG4gICAgICB0aGlzLmRwLm91dHB1dChmYWxzZSk7XG4gICAgfVxuICAgIGlmIChpc1ZhbGlkSU8odGhpcy5wYXJhbXMuY29tbW9uKSkge1xuICAgICAgdGhpcy5jb21tb24gPSBnZXRJTyh0aGlzLnBhcmFtcy5jb21tb24pO1xuICAgICAgdGhpcy5vbigpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBwcmludChkYXRhOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGRhdGEgPSBNYXRoLmZsb29yKGRhdGEpO1xuICAgICAgZGF0YSA9IGRhdGEgJSAxMDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuaW9zW2ldKSB7XG4gICAgICAgICAgbGV0IHZhbDogYW55ID0gdGhpcy5kaWdpdHNbZGF0YV0gJiAoMSA8PCBpKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICBpZiAoIXRoaXMuaXNDYXRob2RlQ29tbW9uKSB7XG4gICAgICAgICAgICB2YWwgPSAhdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmlvc1tpXS5vdXRwdXQodmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5vbigpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBwcmludFJhdyhkYXRhOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmlvc1tpXSkge1xuICAgICAgICAgIGxldCB2YWw6IGFueSA9IGRhdGEgJiAoMSA8PCBpKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICBpZiAoIXRoaXMuaXNDYXRob2RlQ29tbW9uKSB7XG4gICAgICAgICAgICB2YWwgPSAhdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmlvc1tpXS5vdXRwdXQodmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5vbigpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkcFN0YXRlKHNob3c6IGFueSkge1xuICAgIGlmICh0aGlzLmRwKSB7XG4gICAgICB0aGlzLmRwLm91dHB1dCh0aGlzLmlzQ2F0aG9kZUNvbW1vbiA/IHNob3cgOiAhc2hvdyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uKCkge1xuICAgIHRoaXMuY29tbW9uLm91dHB1dCh0aGlzLmlzQ2F0aG9kZUNvbW1vbiA/IGZhbHNlIDogdHJ1ZSk7XG4gIH1cblxuICBwdWJsaWMgb2ZmKCkge1xuICAgIHRoaXMuY29tbW9uLm91dHB1dCh0aGlzLmlzQ2F0aG9kZUNvbW1vbiA/IHRydWUgOiBmYWxzZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgXzdTZWdtZW50TEVEO1xuIl19
